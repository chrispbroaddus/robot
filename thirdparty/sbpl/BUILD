filegroup(
    name = "motion_primitives",
    srcs = [
        "matlab/mprim/all_file.mprim",
        "matlab/mprim/mprim_unic_sideback.mprim",
        "matlab/mprim/mprim_unic_sidebackdiag.mprim",
        "matlab/mprim/non_uniform_res0025_rad1_err005.mprim",
        "matlab/mprim/non_uniform_res01_rad3_err005.mprim",
        "matlab/mprim/pr2.mprim",
        "matlab/mprim/pr2_10cm.mprim",
        "matlab/mprim/pr2_all_2.5cm_20turncost.mprim",
        "matlab/mprim/pr2_unicycle_10cm.mprim",
        "matlab/mprim/pr2sides.mprim",
        "matlab/mprim/unicycle_backonlystraight.mprim",
        "matlab/mprim/unicycle_noturninplace.mprim",
        "matlab/mprim/z2.mprim",
    ],
)

cc_library(
    name = "SBPL",
    srcs = [
        "src/discrete_space_information/environment_XXX.cpp",
        "src/discrete_space_information/environment_nav2D.cpp",
        "src/discrete_space_information/environment_nav2Duu.cpp",
        "src/discrete_space_information/environment_navxythetalat.cpp",
        "src/discrete_space_information/environment_navxythetamlevlat.cpp",
        "src/discrete_space_information/environment_robarm.cpp",
        "src/heuristics/embedded_heuristic.cpp",
        "src/planners/ANAplanner.cpp",
        "src/planners/adplanner.cpp",
        "src/planners/araplanner.cpp",
        "src/planners/lazyARA.cpp",
        "src/planners/mhaplanner.cpp",
        "src/planners/ppcpplanner.cpp",
        "src/planners/rstarplanner.cpp",
        "src/planners/viplanner.cpp",
        "src/utils/2Dgridsearch.cpp",
        "src/utils/config.cpp",
        "src/utils/heap.cpp",
        "src/utils/mdp.cpp",
        "src/utils/utils.cpp",
    ],
    hdrs = [
        "src/include/sbpl/config.h",
        "src/include/sbpl/discrete_space_information/environment.h",
        "src/include/sbpl/discrete_space_information/environment_XXX.h",
        "src/include/sbpl/discrete_space_information/environment_nav2D.h",
        "src/include/sbpl/discrete_space_information/environment_nav2Duu.h",
        "src/include/sbpl/discrete_space_information/environment_navxythetalat.h",
        "src/include/sbpl/discrete_space_information/environment_navxythetamlevlat.h",
        "src/include/sbpl/discrete_space_information/environment_precomputed_adjacency_list.h",
        "src/include/sbpl/discrete_space_information/environment_robarm.h",
        "src/include/sbpl/headers.h",
        "src/include/sbpl/heuristics/embedded_heuristic.h",
        "src/include/sbpl/heuristics/heuristic.h",
        "src/include/sbpl/planners/ANAplanner.h",
        "src/include/sbpl/planners/adplanner.h",
        "src/include/sbpl/planners/araplanner.h",
        "src/include/sbpl/planners/lazyARA.h",
        "src/include/sbpl/planners/mhaplanner.h",
        "src/include/sbpl/planners/planner.h",
        "src/include/sbpl/planners/ppcpplanner.h",
        "src/include/sbpl/planners/rstarplanner.h",
        "src/include/sbpl/planners/viplanner.h",
        "src/include/sbpl/sbpl_exception.h",
        "src/include/sbpl/utils/2Dgridsearch.h",
        "src/include/sbpl/utils/heap.h",
        "src/include/sbpl/utils/key.h",
        "src/include/sbpl/utils/list.h",
        "src/include/sbpl/utils/mdp.h",
        "src/include/sbpl/utils/mdpconfig.h",
        "src/include/sbpl/utils/sbpl_bfs_2d.h",
        "src/include/sbpl/utils/sbpl_bfs_3d.h",
        "src/include/sbpl/utils/sbpl_fifo.h",
        "src/include/sbpl/utils/utils.h",
    ],
    copts = ["-DDEBUG"],
    data = [":motion_primitives"],
    includes = ["src/include"],
    visibility = ["//visibility:public"],
    deps = [
        "//external:glog",
    ],
)

cc_test(
    name = "module-tests",
    srcs = ["src/test/module-tests.cpp"],
    tags = ["manual"],
    deps = [
        ":SBPL",
        "@gtest//:main",
    ],
)
