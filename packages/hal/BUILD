load("//tools:cpp_compile_flags.bzl", "COPTS")

cc_library(
    name = "hal",
    srcs = [
        "src/device_registry.cpp",
        "src/drivers/cameras/dc1394/dc1394_driver.cpp",
        "src/drivers/cameras/dc1394/dc1394_driver_factory.cpp",
        "src/drivers/cameras/depth/realsense_driver.cpp",
        "src/drivers/cameras/depth/realsense_driver_factory.cpp",
        "src/drivers/cameras/flycapture/flycapture_driver.cpp",
        "src/drivers/cameras/flycapture/flycapture_driver_factory.cpp",
        "src/drivers/cameras/playback/playback_camera_device.cpp",
        "src/drivers/cameras/playback/playback_camera_device_factory.cpp",
        "src/drivers/cameras/unity_simulated/unity_simulated_camera_device.cpp",
        "src/drivers/cameras/unity_simulated/unity_simulated_camera_device_factory.cpp",
        "src/drivers/gps/gpsd/gpsd_device.cpp",
        "src/drivers/gps/gpsd/gpsd_device_factory.cpp",
        "src/drivers/imus/unity_simulated/unity_simulated_imu_device.cpp",
        "src/drivers/imus/unity_simulated/unity_simulated_imu_device_factory.cpp",
        "src/drivers/joysticks/sdl2/joystick_device.cpp",
        "src/drivers/joysticks/sdl2/joystick_device_factory.cpp",
        "src/drivers/network_health/interface_statistics.cpp",
        "src/drivers/network_health/network_health_driver.cpp",
        "src/drivers/network_health/network_health_driver_factory.cpp",
        "src/drivers/network_health/pingv4.cpp",
        "src/drivers/vcu/udp_socket/udp_socket_vcu_driver.cpp",
        "src/drivers/vcu/udp_socket/udp_socket_vcu_driver_factory.cpp",
        "src/drivers/vcu/unity_simulated/unity_simulated_vcu.cpp",
        "src/drivers/vcu/unity_simulated/unity_simulated_vcu_factory.cpp",
        "src/factory_registration.cpp",
    ],
    hdrs = [
        "include/device_factory.h",
        "include/device_interface.h",
        "include/device_registry.h",
        "include/drivers/cameras/camera_device.h",
        "include/drivers/cameras/camera_device_interface.h",
        "include/drivers/cameras/dc1394/dc1394_driver.h",
        "include/drivers/cameras/dc1394/dc1394_driver_factory.h",
        "include/drivers/cameras/depth/realsense_driver.h",
        "include/drivers/cameras/depth/realsense_driver_factory.h",
        "include/drivers/cameras/flycapture/flycapture_driver.h",
        "include/drivers/cameras/flycapture/flycapture_driver_factory.h",
        "include/drivers/cameras/playback/playback_camera_device.h",
        "include/drivers/cameras/playback/playback_camera_device_factory.h",
        "include/drivers/cameras/unity_simulated/unity_simulated_camera_device.h",
        "include/drivers/cameras/unity_simulated/unity_simulated_camera_device_factory.h",
        "include/drivers/gps/gps_device.h",
        "include/drivers/gps/gps_device_interface.h",
        "include/drivers/gps/gpsd/gpsd_device.h",
        "include/drivers/gps/gpsd/gpsd_device_factory.h",
        "include/drivers/imus/imu_device.h",
        "include/drivers/imus/imu_device_interface.h",
        "include/drivers/imus/unity_simulated/unity_simulated_imu_device.h",
        "include/drivers/imus/unity_simulated/unity_simulated_imu_device_factory.h",
        "include/drivers/joysticks/joystick_device.h",
        "include/drivers/joysticks/joystick_device_interface.h",
        "include/drivers/joysticks/sdl2/joystick_device.h",
        "include/drivers/joysticks/sdl2/joystick_device_factory.h",
        "include/drivers/network_health/icmpv4_header.h",
        "include/drivers/network_health/interface_statistics.h",
        "include/drivers/network_health/ipv4_header.h",
        "include/drivers/network_health/network_health_driver.h",
        "include/drivers/network_health/network_health_driver_factory.h",
        "include/drivers/network_health/network_health_driver_interface.h",
        "include/drivers/network_health/ping_statistics.h",
        "include/drivers/network_health/pingv4.h",
        "include/drivers/network_health/resolve_statistics.h",
        "include/drivers/vcu/udp_socket/udp_socket_vcu_driver.h",
        "include/drivers/vcu/udp_socket/udp_socket_vcu_driver_factory.h",
        "include/drivers/vcu/unity_simulated/unity_simulated_vcu.h",
        "include/drivers/vcu/unity_simulated/unity_simulated_vcu_factory.h",
        "include/drivers/vcu/vcu_device.h",
        "include/drivers/vcu/vcu_device_interface.h",
        "include/factory_registration.h",
        "include/hal_types.h",
        "include/string_utils.h",
        "include/timer.h",
    ],
    copts = COPTS,
    visibility = ["//visibility:public"],
    deps = [
        "//external:SDL",
        "//external:cppzmq",
        "//external:flycapture",
        "//external:glog",
        "//external:zmq",
        "//packages/core",
        "//packages/hal/proto:camera_sample",
        "//packages/hal/proto:gps_telemetry",
        "//packages/hal/proto:imu_sample",
        "//packages/hal/proto:joystick_sample",
        "//packages/hal/proto:network_telemetry",
        "//packages/hal/proto:point_and_go_sample",
        "//packages/hal/proto:simulator_commands",
        "//packages/hal/proto:vcu_commands",
        "//packages/hal/proto:vcu_telemetry",
        "//packages/image_codec",
        "//packages/net",
        "//packages/serialization",
        "//thirdparty/devices/realsense",
        "@boost//:asio",
        "@libdc1394//:dc1394",
        "@libgps//:gps",
    ],
)
